/* ====================================================================
   THEME SIMPLE - Solo cambia color del sidebar a #8a2e4a
   ==================================================================== */

/* FIX CRÍTICO: Controlar tamaño de SVG que están creciendo sin control */
/* Global emergency override */
svg {
    max-width: 1.5rem !important;
    max-height: 1.5rem !important;
    width: 1.5rem !important;
    height: 1.5rem !important;
    flex-shrink: 0 !important;
}

/* Overrides more specific for critical areas */
body svg,
html svg,
* svg {
    max-width: 1.5rem !important;
    max-height: 1.5rem !important;
    width: 1.5rem !important;
    height: 1.5rem !important;
}

/* Íconos de Filament - tamaño estándar MUY ESPECÍFICO */
.fi-icon svg,
.fi-sidebar-item-icon svg,
.fi-topbar-item svg,
.fi-btn svg,
.fi-badge svg,
.fi-ta-icon svg,
.fi-ac-icon svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
    max-width: 1.25rem !important;
    max-height: 1.25rem !important;
    min-width: 1.25rem !important;
    min-height: 1.25rem !important;
}

/* Fix para íconos dentro de botones */
button svg,
.fi-btn svg,
.fi-button svg {
    width: 1rem !important;
    height: 1rem !important;
    max-width: 1rem !important;
    max-height: 1rem !important;
}

/* Fix para íconos en tablas y formularios */
.fi-table svg,
.fi-form svg,
.fi-input svg {
    width: 1.25rem !important;
    height: 1.25rem !important;
    max-width: 1.25rem !important;
    max-height: 1.25rem !important;
}

/* Color del sidebar - azul profesional */
.fi-sidebar {
    background-color: #1E4E8C !important; /* azul más formal y oscuro */
}

.fi-sidebar-item-icon {
    color: #cfe9ff !important; /* iconos claros que contrastan con el azul */
}

.fi-sidebar-item-label,
.fi-sidebar-item a {
    color: #e6f3ff !important; /* texto por defecto claro pero no puro blanco */
}

/* PROBLEMA 3: Aumentar tamaño de fuente de nombres de módulos - ESPECÍFICO SOLO PARA SIDEBAR */
.fi-sidebar-item .fi-sidebar-item-label {
    font-size: 0.95rem !important; /* Aumentado de ~0.875rem por defecto */
    line-height: 1.3 !important; /* Mejor espaciado vertical */
    font-weight: 500 !important; /* Ligeramente más grueso para mejor legibilidad */
}

/* PROBLEMA 3 EXTENDIDO: Aumentar tamaño de nombres de módulos DENTRO del contenido */
/* Breadcrumbs - migas de pan como "Clientes" encerrado */
.fi-breadcrumbs,
.fi-breadcrumbs li,
.fi-breadcrumbs a,
.fi-breadcrumbs span {
    font-size: 1rem !important; /* Aumentado desde ~0.875rem */
    font-weight: 500 !important;
}

/* Títulos de páginas de recursos */
.fi-header-heading,
.fi-resource-page-heading,
.fi-page-heading {
    font-size: 1.8rem !important; /* Aumentado para mejor visibilidad */
    font-weight: 600 !important;
}

/* Títulos específicos dentro de módulos */
h1.fi-header-heading,
h2.fi-resource-page-heading {
    font-size: 1.6rem !important;
    line-height: 1.2 !important;
}

/* Hover: fondo más oscuro y texto del módulo en blanco y negrita para destacar */
.fi-sidebar-item a:hover {
    background-color: #153d6b !important; /* hover más oscuro */
}

.fi-sidebar-item a:hover .fi-sidebar-item-label {
    color: #ffffff !important;
    font-weight: 700 !important;
}

/* Activo: fondo más contrastante y borde lateral */
.fi-sidebar-item.fi-active > .fi-sidebar-item-btn,
.fi-sidebar-item.fi-active a {
    background-color: #0a1f3f !important; /* fondo aún más oscuro para mejor contraste */
    font-weight: 700 !important;
    border-left: 4px solid #60a5fa !important; /* borde azul claro para destacar */
    box-shadow: inset 0 0 0 1px rgba(96, 165, 250, 0.2) !important; /* sutil brillo interno */
}

.fi-sidebar-item.fi-active .fi-sidebar-item-icon,
.fi-sidebar-item.fi-active .fi-sidebar-item-label {
    color: #ffffff !important;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3) !important; /* sombra para mejor legibilidad */
}

/* Icono activo con color distintivo */
.fi-sidebar-item.fi-active .fi-sidebar-item-icon {
    color: #93c5fd !important; /* azul claro para el icono activo */
}

.fi-sidebar-group-label,
.fi-sidebar-group div span {
    color: white !important;
}

/* FIX CONTENIDO DISTORSIONADO: Restaurar layout normal */
.fi-main-ctn,
.fi-page,
.fi-simple-page,
.fi-resource-page {
    width: auto !important;
    max-width: none !important;
    overflow: visible !important;
}

/* FIX PARA TABLAS */
.fi-table {
    width: 100% !important;
    table-layout: auto !important;
}

.fi-table td,
.fi-table th {
    white-space: nowrap !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
}

/* Reducción ligera para contenido de tablas en páginas de recursos (ej. Clientes) */
.fi-resource-page .fi-table,
.fi-resource-index .fi-table,
.fi-resource-page .fi-table td,
.fi-resource-index .fi-table td,
.fi-resource-page .fi-table th,
.fi-resource-index .fi-table th {
    font-size: 0.82rem !important; /* un poco más pequeño */
    padding: 0.4rem 0.5rem !important; /* menos padding para filas más compactas */
}

/* Ajuste para filas y acciones */
.fi-resource-page .filament-table-row,
.fi-resource-index .filament-table-row {
    padding-top: 0.25rem !important;
    padding-bottom: 0.25rem !important;
}

/* FIX PARA FORMULARIOS */
.fi-form-section,
.fi-fieldset {
    width: 100% !important;
    max-width: none !important;
}

/* FIX ESPECÍFICO PARA PREVENIR SVG GIGANTES */
[class*="fi-"] svg {
    max-width: 1.25rem !important;
    max-height: 1.25rem !important;
    width: 1.25rem !important;
    height: 1.25rem !important;
    flex-shrink: 0 !important;
}

/* SUPER ESPECÍFICO - Para cualquier SVG en el panel admin */
.fi-sidebar svg,
.fi-topbar svg,
.fi-main svg,
.fi-header svg,
.fi-panel svg,
nav svg,
aside svg,
header svg {
    max-width: 1.25rem !important;
    max-height: 1.25rem !important;
    width: 1.25rem !important;
    height: 1.25rem !important;
    flex-shrink: 0 !important;
}

/* MEGA FIX - Para texto que puede estar distorsionado */
.fi-main-ctn * {
    font-size: inherit !important;
    line-height: inherit !important;
}

/* Excepciones para logos o imágenes que SÍ pueden ser grandes */
.fi-logo svg,
.fi-brand svg,
.fi-application-logo svg,
img {
    max-width: none !important;
    max-height: none !important;
    width: auto !important;
    height: auto !important;
}

/* EXCEPCIONES ESPECÍFICAS PARA IMÁGENES DE EMPLEADOS */
/* Imágenes en tablas de empleados */
.fi-table img,
.fi-ta-image img,
.fi-img-preview img,
/* Imágenes en formularios de empleados */
.fi-form img,
.face-registration-component img,
/* Imágenes en modales de captura facial */
.modal img,
video,
canvas,
/* Imágenes capturadas y previsualizaciones */
img[alt*="Rostro"],
img[alt*="Vista previa"],
img[alt*="capturado"],
/* Cualquier imagen dentro de componentes relacionados con rostros */
[x-data*="faceRegistration"] img,
[class*="face-"] img {
    width: auto !important;
    height: auto !important;
    max-width: none !important;
    max-height: none !important;
    min-width: auto !important;
    min-height: auto !important;
    object-fit: cover !important;
}

/* ====================================================================
   PAGINACIÓN - Números en negro para todas las tablas
   ==================================================================== */
.filament-pagination a,
.filament-pagination button,
.fi-pagination a,
.fi-pagination button,
.pagination a,
.pagination button,
.page-link,
.page-item a {
    color: #000 !important;
    background: transparent !important;
}

/* Asegurar que el número activo también tenga texto negro si se desea */
.filament-pagination .active a,
.pagination .active a,
.page-item.active a {
    color: #000 !important;
    font-weight: 700 !important;
}

/* ====================================================================
   BOTONES - Color del sidebar con texto blanco
   ==================================================================== */
.fi-btn-primary,
.fi-btn[type="submit"],
button[type="submit"],
.filament-button,
.fi-ac-btn-action {
    background-color: #1E4E8C !important;
    color: white !important;
    border-color: #1E4E8C !important;
}

.fi-btn-primary:hover,
.fi-btn[type="submit"]:hover,
button[type="submit"]:hover,
.filament-button:hover,
.fi-ac-btn-action:hover {
    background-color: #153d6b !important;
    border-color: #153d6b !important;
}

/* Texto de botones siempre blanco */
.fi-btn span,
button span,
.filament-button span {
    color: white !important;
}

/* ====================================================================
   TABLAS - Reducir tamaño de fuente
   ==================================================================== */
.fi-table td,
.fi-table th,
.fi-table tbody,
.fi-ta-text {
    font-size: 0.875rem !important; /* Reducido de 1rem */
    line-height: 1.25rem !important;
}

/* ====================================================================
   ESTILOS ESPECÍFICOS PARA COMPONENTES DE ROSTROS - SÚPER AGRESIVOS
   ==================================================================== */
/* TABLA DE EMPLEADOS - IMÁGENES FORZADAS A 60PX */
.fi-table img,
.fi-ta-image img,
.empleado-foto-tabla,
.fi-table td img,
.fi-table .fi-img img,
table img[src*="empleados_rostros"],
table img[src*="storage"],
.filament-table img {
    width: 60px !important;
    height: 60px !important;
    max-width: 60px !important;
    max-height: 60px !important;
    min-width: 60px !important;
    min-height: 60px !important;
    border-radius: 50% !important;
    object-fit: cover !important;
    display: block !important;
    flex: none !important;
}

/* VISTA PREVIA EN MODALES - FORZADA A 200PX */
.face-registration-component img,
img[alt*="Vista previa"],
img[alt*="Rostro capturado"],
img[alt*="capturado"],
#capturedImage img,
.modal img[src^="data:image"],
[x-show="capturedImage"] img {
    width: 200px !important;
    height: 200px !important;
    max-width: 200px !important;
    max-height: 200px !important;
    min-width: 200px !important;
    min-height: 200px !important;
    border-radius: 50% !important;
    object-fit: cover !important;
    display: block !important;
    margin: 0 auto !important;
}

/* VISTA DE EDICIÓN - FOTO ACTUAL - MÁS ESPECÍFICO */
.fi-form img[src*="empleados_rostros"],
.fi-form img[alt*="Rostro de"],
.fi-fieldset img[src*="empleados_rostros"],
.fi-fieldset img[alt*="Rostro de"],
div[style*="grid-template-columns"] img[alt*="Rostro de"],
div[style*="180px"] img[src*="storage"],
.fi-section img[alt*="Rostro de"] {
    width: 164px !important;
    height: 164px !important;
    max-width: 164px !important;
    max-height: 164px !important;
    min-width: 164px !important;
    min-height: 164px !important;
    border-radius: 50% !important;
    object-fit: cover !important;
    display: block !important;
    flex: none !important;
    position: relative !important;
}

/* Contenedores de la tarjeta para evitar desbordamiento */
div[style*="width: 180px; height: 180px"],
div[style*="grid-template-columns: auto 1fr"] {
    overflow: hidden !important;
    flex-shrink: 0 !important;
}

/* VIDEO Y CANVAS EN MODALES DE CÁMARA */
video[x-ref="video"],
canvas[x-ref="canvas"],
.modal video,
.modal canvas {
    width: 100% !important;
    height: 500px !important;
    max-height: 500px !important;
    object-fit: cover !important;
}

/* MEGA OVERRIDE PARA CUALQUIER IMAGEN PROBLEMÁTICA */
img[src*="data:image/jpeg"],
img[src*="data:image/png"],
.img-thumbnail {
    max-width: none !important;
    max-height: none !important;
}

/* ====================================================================
   FIX BARRA BLANCA AL SELECCIONAR MÓDULO
   ==================================================================== */
/* Eliminar barra de selección activa que aparece encima */
.fi-sidebar-item.fi-active::before,
.fi-sidebar-item.fi-active::after,
.fi-sidebar-item::before,
.fi-sidebar-item::after {
    display: none !important;
}

/* Asegurar que no haya bordes o líneas superiores (excepto borde izquierdo del activo) */
.fi-sidebar-item,
.fi-sidebar-item.fi-active {
    border-top: none !important;
    border-bottom: none !important;
    border-right: none !important;
}

/* Solo permitir borde izquierdo en elementos activos */
.fi-sidebar-item:not(.fi-active) .fi-sidebar-item-btn,
.fi-sidebar-item:not(.fi-active) a {
    border-left: none !important;
}

/* Mejorar la transición del estado activo */
.fi-sidebar-item .fi-sidebar-item-btn,
.fi-sidebar-item a {
    transition: all 0.2s ease-in-out !important;
    border-radius: 0 8px 8px 0 !important; /* esquinas redondeadas solo del lado derecho */
    margin-right: 8px !important; /* espacio del borde derecho */
}

/* Estado activo con animación suave */
.fi-sidebar-item.fi-active .fi-sidebar-item-btn,
.fi-sidebar-item.fi-active a {
    transform: translateX(2px) !important; /* ligero desplazamiento para destacar */
}

/* ====================================================================
   FIX PROBLEMA 1: AVATAR TOPBAR DEMASIADO GRANDE
   ==================================================================== */
/* Controlar específicamente el avatar del usuario en el topbar */
.fi-topbar .fi-avatar,
.fi-topbar .fi-dropdown-trigger,
.fi-user-menu .fi-avatar,
.fi-user-menu-trigger .fi-avatar,
.fi-avatar {
    width: 2.5rem !important;  /* 40px - tamaño normal */
    height: 2.5rem !important; /* 40px - tamaño normal */
    max-width: 2.5rem !important;
    max-height: 2.5rem !important;
    min-width: 2.5rem !important;
    min-height: 2.5rem !important;
    border-radius: 50% !important;
    object-fit: cover !important;
    flex-shrink: 0 !important;
}

/* Contenedor del menú de usuario */
.fi-topbar .fi-dropdown-trigger,
.fi-user-menu-trigger {
    height: auto !important;
    width: auto !important;
    padding: 0.25rem !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
}

/* Asegurar que el texto de las iniciales esté centrado */
.fi-avatar {
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-align: center !important;
    line-height: 1 !important;
    font-weight: 600 !important;
}

/* SVGs dentro del topbar (iconos de notificaciones, etc) - excepto avatar */
.fi-topbar svg:not(.fi-avatar svg) {
    width: 1.25rem !important;
    height: 1.25rem !important;
    max-width: 1.25rem !important;
    max-height: 1.25rem !important;
}

/* Excepciones para el avatar - asegurar que NO sea afectado por reglas de SVG */
.fi-avatar img,
.fi-topbar .fi-avatar img,
.fi-user-menu .fi-avatar img {
    width: 100% !important;
    height: 100% !important;
    max-width: none !important;
    max-height: none !important;
    object-fit: cover !important;
    border-radius: 50% !important;
}
